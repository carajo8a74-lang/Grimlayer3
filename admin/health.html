<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Admin Health</title>
<style>
  body{background:#111;color:#eee;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;padding:32px}
  code{background:#222;padding:2px 6px;border-radius:4px}
  .ok{color:#7CFC9F}.bad{color:#ffa7a7}
</style>
</head>
<body>
<h1>Admin Health</h1>
<div id="conf">Checking config.yml…</div>
<div id="ident">Checking Identity endpoint…</div>

<script>
(async () => {
  try {
    const res = await fetch('./config.yml', { cache: 'no-store' });
    document.getElementById('conf').innerHTML = 'Fetch config.yml: status <code class="' + (res.ok?'ok':'bad') + '">' + res.status + '</code>';
  } catch (e) {
    document.getElementById('conf').innerHTML = 'Fetch config.yml: <code class="bad">FAILED</code>';
  }
  try {
    const r2 = await fetch('/.netlify/identity/user', { credentials: 'include' });
    document.getElementById('ident').innerHTML = 'Identity endpoint: status <code class="' + (r2.status===200?'ok':'bad') + '">' + r2.status + '</code>';
  } catch (e) {
    document.getElementById('ident').innerHTML = 'Identity endpoint: <code class="bad">FAILED</code>';
  }
})();
</script>
</body>
</html>
